{% extends "layouts/base.html" %}
{% load static %}

{% block title %}Horarios de {{ tour.tour_name }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'assets/css/schedules.css' %}">
{% endblock %}

{% block content %}
<h2>Horarios para {{ tour.tour_name }}</h2>
<table id="scheduleTable" class="display responsive nowrap" style="width:100%">
    <thead>
        <tr>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Capacidad</th>
            <th>Estado</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for schedule in schedules %}
        <tr>
            <td>{{ schedule.date }}</td>
            <td>{{ schedule.start_time }}</td>
            <td>{{ schedule.capacity }}</td>
            <td>{{ schedule.status }}</td>
            <td>
                <a href="{% url 'tours:reservation_list' schedule.id %}">Ver Reservas</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}

{% block extra_js %}
<script src="{% static 'assets/js/schedules.js' %}"></script>
<script>
    $(document).ready(function() {
        $('#scheduleTable').DataTable();
    });
</script>
{% endblock %}
